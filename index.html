<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="shortcut icon" href="/Graph2Data2/favicon.ico"/><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"/><meta name="theme-color" content="#000000"/><style>#g2dMetaHost{display:flex;flex:1 0;flex-direction:row}#g2dHost,#g2dMetaHost,graph-2-data{width:100%;height:100%}#pdfControlsHost{display:flex;flex-direction:column;overflow-y:auto;flex:0 0 100%}#pdfSelectorHost{flex:0 0 auto;position:absolute}#pdf-graph-displayer{cursor:pointer}#pdfControlsHost{flex-basis:100%}#pdfControlsHost.sidebar{flex-basis:auto}.hide{display:none}#g2dHost.hide{display:none}#g2dHost{display:block}#pgcHost{height:100%}.hidden{display:none}</style><link rel="manifest" href="/Graph2Data2/manifest.json"/><title>React App</title><script src="/Graph2Data2/webcomponentsjs/webcomponents-loader.js"></script><script src="devModeData/devModeData.js"></script><script>const devMode = devModeData.devMode;
        function addEventHandlers(graph2Data) {
            graph2Data.addEventListener('pointAdded', pointAddedEvent => {
                // console.log(`[Container-g2d] Point added. Detail: ${JSON.stringify(pointAddedEvent.detail, null, 2)}`);
            });
            graph2Data.addEventListener('seriesDeleted', seriesDeletedEvent => {
                // console.log(`[Container-g2d] Series deleted. Detail: ${JSON.stringify(seriesDeletedEvent.detail, null, 2)}`);
            });
            graph2Data.addEventListener('currentSeriesChanged', currentSeriesChangedEvent => {
                // console.log(`[Container-g2d] Current series changed. Detail: ${JSON.stringify(currentSeriesChangedEvent.detail, null, 2)}`);
            });
            graph2Data.addEventListener('seriesAdded', seriesAddedEvent => {
                // console.log(`[Container-g2d] Series added. Detail: ${JSON.stringify(seriesAddedEvent.detail, null, 2)}`);
            });
            graph2Data.addEventListener('seriesLabelChanged', seriesLabelChangedEvent => {
                // console.log(`[Container-g2d] Series label changed. Detail: ${JSON.stringify(seriesLabelChangedEvent.detail, null, 2)}`);
            });
            graph2Data.addEventListener('pointDeleted', pointDeletedEvent => {
                // console.log(`[Container-g2d] Point deleted. Detail: ${JSON.stringify(pointDeletedEvent.detail, null, 2)}`);
            });
            graph2Data.addEventListener('extractionComplete', extractionCompleteEvent => {
                // console.log(`[Container-g2d] Extraction complete. Detail: ${JSON.stringify(extractionCompleteEvent.detail, null, 2)}`);
            });
        }

        function graphChosenHandler(graphChosenEvent, addChooserArgs, then = () => { }) {
            const { pdfSelectorHost, pdfControlsHost, pgc, pgcHost, pgdHost, g2d, config } = addChooserArgs;

            // console.log(`[Container-pgc] Graph Chosen. Detail: ${JSON.stringify(graphChosenEvent.detail, null, 2)}`);
            const gdConfig = getPdfGraphDisplayerConfig();
            pdfControlsHost.classList.add('sidebar');
            pgc.classList.add('hide');
            pgdHost.querySelectorAll('.pdf-graph-displayer').forEach(gd => gd.remove());
            const { pdfUrl, pdfScale } = graphChosenEvent.detail;

            graphChosenEvent.detail.graphData.forEach((gd, i) => {
                const pgd = document.createElement('pdf-graph-displayer');
                pgd.setAttribute('id', `pdf-graph-displayer${i}`);
                pgd.setAttribute('config', JSON.stringify({
                    ...gdConfig,
                    coords: gd.coords,
                    pdfUrl,
                    pageIndex: gd.pageIndex,
                    pdfScale
                }, null, 2));
                pgd.setAttribute('apiDriver', false);
                pgd.setAttribute('class', 'pdf-graph-displayer');
                addDisplayerEventHandlers({ pgd, g2d, config });
                pgdHost.appendChild(pgd);
            });
            pgcHost.setAttribute('class', 'hidden');
            pdfSelectorHost.setAttribute('class', 'hidden');
            then();
        }
        function doDevMode(addChooserArgs) {
            const { pdfSelectorHost, pdfControlsHost, pgc, pgcHost, pgdHost, g2d, config } = addChooserArgs;
            graphChosenHandler({
                detail: {
                    message: "Graph chosen",
                    graphData: devModeData.graphData,
                    pdfUrl: devModeData.pdfUrl,
                    pdfScale: devModeData.pdfScale
                }
            }, addChooserArgs, () => {
                const pgd = document.getElementsByTagName('pdf-graph-displayer')[0];
                // console.log('pgd: ', pgd);
                graphClickedEventHandler({
                    detail: {
                        message: "Graph clicked",
                        coords: devModeData.graphData.coords,
                        dataUrl: devModeData.config.dataUrl
                    }
                }, { pgd, g2d, config });
            });
        }
        function addChooserEventHandlers(addChooserArgs) {
            const { pdfSelectorHost, pdfControlsHost, pgc, pgcHost, pgdHost, g2d, config } = addChooserArgs;
            pgc.addEventListener('graphChosen', ev => graphChosenHandler(ev, addChooserArgs));
        }

        function buildPdfSelector() {
            const pdfList = [
                { label: 'Choose a PDF', value: '' },
                ...[
                    'pdf',
                    'Ahn_2007',
                    'Auh_2016',
                    'Bosier_2015',
                    'Brownjohn_2012',
                    'Cascio_2006',
                    'Comelli_2010',
                    'Costa_2010',
                    'Crowe_2017',
                    'Cui_2013',
                    'Curto-Reyes_2010',
                    'Desroches_2008',
                    'Dyson_2005',
                    'D_Agostino_2009',
                    'Ferri_1986_Graph2Data',
                    'Ghalandari-Shamami_2012',
                    'Greco_2014',
                    'Herzberg_1996',
                    'Hongbo_2018',
                    'Hovhannisyan_2015',
                    'Jahanabadi_2015',
                    'Kehl_2003',
                    'Kinsey_2012',
                    'Kiritoshi_2016',
                    'Lichtman_2004',
                    'Martin_1999',
                    'Mecs_2010',
                    'Montserrat-de la Paz_2014',
                    'Moss_1979',
                    'Negrete_2011',
                    'Palma_2018',
                    'Paula_Freire_2014',
                    'Sagar_2008',
                    'Sain_2009',
                    'Salaga_2018',
                    'Smith_1998',
                    'Succar_2007',
                    'Toniolo_2014',
                    'Vincenzi_2013',
                    'Wang_2015',
                    'Wise_2008',
                    'Yao_2008'
                ].map(name => ({
                    label: name,
                    value: `pdf/${name}.pdf`
                }))];

            const html = ['<label>Select PDF: <select id="pdfSelector">'];
            pdfList.forEach(item => html.push(`<option value='${item.value}'>${item.label}</option>`));
            html.push('</select></label>');

            pdfSelectorHost.innerHTML = html.join('');

            const pdfSelector = document.getElementById('pdfSelector');
            pdfSelector.addEventListener('change', ev => {
                setChooserConfig();
            });
        }

        function graphClickedEventHandler(graphClickedEvent, addDisplayerArgs) {
            const { pgd, g2d, config } = addDisplayerArgs;
            // console.log(`[Container-pgd] Graph Clicked. Detail: ${JSON.stringify(graphClickedEvent.detail, null, 2)}`);

            g2dHost.classList.remove('hide');
            const config2 = { ...config, dataUri: graphClickedEvent.detail.dataUrl };
            g2d.setAttribute('config', JSON.stringify(config2));
        }
        function addDisplayerEventHandlers(addDisplayerArgs) {
            const { pgd, g2d, config } = addDisplayerArgs;
            pgd.addEventListener('graphClicked', ev => graphClickedEventHandler(ev, addDisplayerArgs));
        }

        function getConfig() {
            const config = {
                graphTypeId: 'mean-and-standard-deviation',
                discriminator: 'vertical',
                dataSeriesCount: undefined,
                dataPointsCount: undefined,
                axisType: 'both',
                includeIndividuals: false,
                dataUri: null,
                // imageUri: "https://d2mvzyuse3lwjc.cloudfront.net/doc/en/UserGuide/images/DoubleY_Column_Graph/DoubleY_Column.png?v=75179",
                series: [
                    // {
                    //     id: '61c8b2dd-84cb-4514-8d03-ca9197b44bbb',
                    //     label: 'Series a'
                    // }, {
                    //     id: '8862c879-ff28-44af-9780-9c481a339d85',
                    //     label: 'Series b'
                    // }, {
                    //     id: '4f0489cc-1cf2-4c41-855f-d8d005013b60',
                    //     label: 'Series c'
                    // }
                ]
            };

            return config;
        }

        function getPdfGraphChooserConfig() {
            const pdfSelector = document.getElementById('pdfSelector');
            return {
                fileUrl: pdfSelector.value,
                outcomes: [{
                    id: 'guid1',
                    label: 'Outcome 1'
                }, {
                    id: 'guid2',
                    label: 'Outcome 2'
                }, {
                    id: 'guid3',
                    label: 'Outcome 3'
                }, {
                    id: 'guid4',
                    label: 'Outcome 4'
                }, {
                    id: 'guid5',
                    label: 'Outcome 5'
                }]
            };
        }
        function getPdfGraphDisplayerConfig() {
            return {
                fileUrl: null,
                width: 100,
                height: 100,
                pageIndex: -1,
                pageScale: 0
            };
        }
        function setChooserConfig() {
            const chooserConfig = getPdfGraphChooserConfig();
            const pgc = document.getElementById('pdf-graph-chooser');
            pgc.setAttribute('config', JSON.stringify(chooserConfig));
        }
        function handleLoad() {
            const pdfSelectorHost = document.getElementById('pdfSelectorHost');
            const pdfControlsHost = document.getElementById('pdfControlsHost');
            const g2d = document.getElementById('graph-2-data');
            const pgc = document.getElementById('pdf-graph-chooser');
            // const pgd = document.getElementById('pdf-graph-displayer');
            const pgdHost = document.getElementById('pgdHost');
            const pgcHost = document.getElementById('pgcHost');

            buildPdfSelector();
            const config = getConfig();

            addEventHandlers(g2d);

            const addChooserArgs = { pdfSelectorHost, pdfControlsHost, pgc, pgcHost, pgdHost, g2d, config };
            addChooserEventHandlers(addChooserArgs);

            if (devModeData.devMode) {
                doDevMode(addChooserArgs);
            }
        }

        window.addEventListener('load', async loadEvent => {
            handleLoad();
        });</script><link href="/Graph2Data2/static/css/main.9e1a5549.chunk.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="g2dMetaHost"><div id="pdfSelectorHost"></div><div id="pdfControlsHost"><div id="pgcHost"><pdf-graph-chooser id="pdf-graph-chooser" config="{}" apidriver="false"/></div><div id="pgdHost"></div></div><div id="g2dHost" class="hide"><graph-2-data id="graph-2-data" config="{}" apidriver="false" devmode="false" configstoragekey="my-config-key"/></div></div><script>!function(p){function e(e){for(var r,t,n=e[0],o=e[1],a=e[2],u=0,l=[];u<n.length;u++)t=n[u],Object.prototype.hasOwnProperty.call(i,t)&&i[t]&&l.push(i[t][0]),i[t]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(p[r]=o[r]);for(s&&s(e);l.length;)l.shift()();return c.push.apply(c,a||[]),f()}function f(){for(var e,r=0;r<c.length;r++){for(var t=c[r],n=!0,o=1;o<t.length;o++){var a=t[o];0!==i[a]&&(n=!1)}n&&(c.splice(r--,1),e=u(u.s=t[0]))}return e}var t={},i={1:0},c=[];function u(e){if(t[e])return t[e].exports;var r=t[e]={i:e,l:!1,exports:{}};return p[e].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=p,u.c=t,u.d=function(e,r,t){u.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(r,e){if(1&e&&(r=u(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var n in r)u.d(t,n,function(e){return r[e]}.bind(null,n));return t},u.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(r,"a",r),r},u.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},u.p="/Graph2Data2/";var r=window.webpackJsonpgraph2data=window.webpackJsonpgraph2data||[],n=r.push.bind(r);r.push=e,r=r.slice();for(var o=0;o<r.length;o++)e(r[o]);var s=n;f()}([])</script><script src="/Graph2Data2/static/js/2.8531f90b.chunk.js"></script><script src="/Graph2Data2/static/js/main.c6b5c08a.chunk.js"></script></body></html>